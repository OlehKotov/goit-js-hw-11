{"version":3,"file":"commonHelpers.js","sources":["../src/img/bi_x-octagon.svg","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__3108d0c6__\"","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport './css/styles.css';\nimport './css/loader.css';\nimport errorIcon from './img/bi_x-octagon.svg';\n\nconst refs = {\n  form: document.querySelector('.form'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\nrefs.loader.style.visibility = 'hidden';\nrefs.form.addEventListener('submit', onFormSubmit);\n\nfunction getImagesByName(name) {\n  const searchParams = new URLSearchParams({\n    key: \"42132229-e88b92984f0d2a7001cb07c65\",\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: \"true\",\n    q: name,\n  });\n  const BASE_URL = 'https://pixabay.com/api/';\n  const url = BASE_URL + \"?\" + searchParams;\n   return fetch(url).then(response =>\n     response.json()).catch(error => {\n      console.log(error);\n    })   \n  }\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  refs.loader.style.visibility = 'visible';\n  const query = event.target.elements.query.value;\n  getImagesByName(query).then(data => {\n    refs.loader.style.visibility = 'hidden';\n    if(query === '') {\n      refs.gallery.innerHTML = \"\";\n      return\n    } else if (parseInt(data.totalHits) > 0) {\n      renderMarkup(data.hits);\n    } else {\n      refs.gallery.innerHTML = '';\n      iziToast.error({\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n        backgroundColor: 'red',\n        messageColor: 'white',\n        messageSize: '16px',\n        iconColor: 'white',\n        iconUrl: errorIcon,\n        color: 'white',\n        timeout: 2000,\n    });\n    }\n  });\n  event.target.reset();\n}\n\nfunction galleryTemplate({\n  largeImageURL,\n  webformatURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `<a class=\"gallery-link\" href=\"${largeImageURL}\"><img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\"/>\n  <div class=\"gallery-review\">\n  <div class=\"gallery-review-item\"><b>Likes</b> <span>${likes}</span></div>\n  <div class=\"gallery-review-item\"><b>Views</b> <span>${views}</span></div>\n  <div class=\"gallery-review-item\"><b>Comments</b> <span>${comments}</span></div>\n  <div class=\"gallery-review-item\"><b>Downloads</b> <span>${downloads}</span></div>\n  </div></a>\n    `;\n}\n\nlet gallery = new SimpleLightbox('.gallery a', {\n  showCounter: false,\n  captionDelay: 250,\n  captions: true,\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n});\n\nfunction renderMarkup(images) {\n  const markup = images.map(galleryTemplate).join('');\n  refs.gallery.innerHTML = markup;\n  gallery.refresh();\n}\n\n\n\n"],"names":["errorIcon","refs","onFormSubmit","getImagesByName","name","searchParams","url","response","error","event","query","data","renderMarkup","iziToast","galleryTemplate","largeImageURL","webformatURL","tags","likes","views","comments","downloads","gallery","SimpleLightbox","images","markup"],"mappings":"6vBAAA,MAAeA,EAAA,kDCQTC,EAAO,CACX,KAAM,SAAS,cAAc,OAAO,EACpC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EACAA,EAAK,OAAO,MAAM,WAAa,SAC/BA,EAAK,KAAK,iBAAiB,SAAUC,CAAY,EAEjD,SAASC,EAAgBC,EAAM,CAC7B,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,EAAGD,CACP,CAAG,EAEKE,EADW,2BACM,IAAMD,EAC5B,OAAO,MAAMC,CAAG,EAAE,KAAKC,GACrBA,EAAS,KAAI,CAAE,EAAE,MAAMC,GAAS,CAC/B,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACF,CAEH,SAASN,EAAaO,EAAO,CAC3BA,EAAM,eAAc,EACpBR,EAAK,OAAO,MAAM,WAAa,UAC/B,MAAMS,EAAQD,EAAM,OAAO,SAAS,MAAM,MAC1CN,EAAgBO,CAAK,EAAE,KAAKC,GAAQ,CAElC,GADAV,EAAK,OAAO,MAAM,WAAa,SAC5BS,IAAU,GAAI,CACfT,EAAK,QAAQ,UAAY,GACzB,MACD,MAAU,SAASU,EAAK,SAAS,EAAI,EACpCC,EAAaD,EAAK,IAAI,GAEtBV,EAAK,QAAQ,UAAY,GACzBY,EAAS,MAAM,CACb,QAAS,2EACT,SAAU,WACV,gBAAiB,MACjB,aAAc,QACd,YAAa,OACb,UAAW,QACX,QAASb,EACT,MAAO,QACP,QAAS,GACjB,CAAK,EAEL,CAAG,EACDS,EAAM,OAAO,OACf,CAEA,SAASK,EAAgB,CACvB,cAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO,iCAAiCN,sCAAkDC,WAAsBC;AAAA;AAAA,wDAE1DC;AAAA,wDACAC;AAAA,2DACGC;AAAA,4DACCC;AAAA;AAAA,KAG5D,CAEA,IAAIC,EAAU,IAAIC,EAAe,aAAc,CAC7C,YAAa,GACb,aAAc,IACd,SAAU,GACV,aAAc,MACd,gBAAiB,QACnB,CAAC,EAED,SAASX,EAAaY,EAAQ,CAC5B,MAAMC,EAASD,EAAO,IAAIV,CAAe,EAAE,KAAK,EAAE,EAClDb,EAAK,QAAQ,UAAYwB,EACzBH,EAAQ,QAAO,CACjB"}