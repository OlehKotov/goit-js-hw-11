{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst refs = {\n  form: document.querySelector('.form'),\n  gallery: document.querySelector('.gallery'),\n};\nrefs.form.addEventListener('submit', onFormSubmit);\n\nfunction getImagesByName(name) {\n  const BASE_URL = 'https://pixabay.com/api';\n  const PARAMS = `/?key=42132229-e88b92984f0d2a7001cb07c65&image_type=photo&orientation=horizontal&safesearch=true&q=${name}`;\n  const url = BASE_URL + PARAMS;\n\n  return fetch(url).then(res => res.json());\n}\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  const query = event.target.elements.query.value;\n  getImagesByName(query).then(data => {\n    renderMarkup(data.hits);\n  });\n  event.target.reset();\n}\n\nfunction galleryTemplate({largeImageURL, webformatURL, tags, likes, views, comments, downloads}) {\n  return `<a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img\n          class=\"gallery-image\"\n          src=\"${webformatURL}\"\n          data-source=\"${largeImageURL}\"\n          alt=\"${tags}\"\n          data-likes=\"${likes}\"\n          data-views=\"${views}\"\n          data-comments=\"${comments}\"\n          data-downloads=\"${downloads}\"\n        />\n      </a>\n    `;\n}\n\nfunction renderMarkup(images) {\n  const markup = images.map(galleryTemplate).join('');\n  refs.gallery.innerHTML = markup;\n}\n\nlet gallery = new SimpleLightbox('.gallery a');\ngallery.on('show.simplelightbox', function () {\n\t// Do somethingâ€¦\n});\n\ngallery.on('error.simplelightbox', function (e) {\n\tconsole.log(e); // Some usefull information\n});\n// function blockAction(e) {\n//   if (e.target.nodeName !== 'A') e.preventDefault();\n// }\n"],"names":["refs","onFormSubmit","getImagesByName","name","BASE_URL","PARAMS","url","res","event","query","data","renderMarkup","galleryTemplate","largeImageURL","webformatURL","tags","likes","views","comments","downloads","images","markup","gallery","SimpleLightbox","e"],"mappings":"svBAKA,MAAMA,EAAO,CACX,KAAM,SAAS,cAAc,OAAO,EACpC,QAAS,SAAS,cAAc,UAAU,CAC5C,EACAA,EAAK,KAAK,iBAAiB,SAAUC,CAAY,EAEjD,SAASC,EAAgBC,EAAM,CAC7B,MAAMC,EAAW,0BACXC,EAAS,sGAAsGF,IAC/GG,EAAMF,EAAWC,EAEvB,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAC1C,CAEA,SAASN,EAAaO,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMC,EAAQD,EAAM,OAAO,SAAS,MAAM,MAC1CN,EAAgBO,CAAK,EAAE,KAAKC,GAAQ,CAClCC,EAAaD,EAAK,IAAI,CAC1B,CAAG,EACDF,EAAM,OAAO,OACf,CAEA,SAASI,EAAgB,CAAC,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAG,CAC/F,MAAO,iCAAiCN;AAAA;AAAA;AAAA,iBAGzBC;AAAA,yBACQD;AAAA,iBACRE;AAAA,wBACOC;AAAA,wBACAC;AAAA,2BACGC;AAAA,4BACCC;AAAA;AAAA;AAAA,KAI5B,CAEA,SAASR,EAAaS,EAAQ,CAC5B,MAAMC,EAASD,EAAO,IAAIR,CAAe,EAAE,KAAK,EAAE,EAClDZ,EAAK,QAAQ,UAAYqB,CAC3B,CAEA,IAAIC,EAAU,IAAIC,EAAe,YAAY,EAC7CD,EAAQ,GAAG,sBAAuB,UAAY,CAE9C,CAAC,EAEDA,EAAQ,GAAG,uBAAwB,SAAUE,EAAG,CAC/C,QAAQ,IAAIA,CAAC,CACd,CAAC"}